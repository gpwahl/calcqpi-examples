##Obtaining tight-binding model and wave functions from DFT calculations**

We have here included example files to run a DFT calculation using VASP and Wannier90 to obtain a tight-binding model and wave function files for Sr2RuO4. You will need a VASP license, VASP compiled with the Wannier90 interface, and the patched version of Wannier90 (https://github.com/gpwahl/wannier90).

We note that this example is extremely compressed to demonstrate the interface, in reality one would first do a DFT calculation to converge the charge density self-consistently and run a non-self-consistent calculation to calculate the band structure from DFT. One would then create the files to run Wannier90, and optimize the parameters of Wannier90 until a good band structure match is obtained. Finally, one would run Wannier90 to obtain the tight-binding model and wave functions.

##Creating the pseudopotential files
Because the pseudopotential files are part of the VASP distribution and cannot be included here for copyright reasons, the first step is to generate the POTCAR file from the pseudopotentials which come with VASP. This is done by

>'cat path_to_pbe_pseudopotentials/Sr_sv/POTCAR path_to_pbe_pseudopotentials/Ru/POTCAR path_to_pbe_pseudopotentials/O/POTCAR >POTCAR'

##Running the DFT calculation to obtain wave functions
One then runs aVASP can be run using vasp_std, which will first run the self-consistency loop to calculate the charge density and then will create all files required to run wannier90.

##Running Wannier90
The next step is to run Wannier90 using the wannier90.win file generated by VASP. This will create the tight-binding model ('wannier90_hr.dat') and the wave function files ('wannier90_#####.xsf').

##Creating the wave function file for calcQPI
In the final step, it is usually convenient to convert the .xsf files (which are themselves pretty large) into a wave function input file for calcQPI. This file only contains one z-cut with exactly the parameters required for the QPI calculation and is significantly smaller than the xsf file. This is done running

>'./mkwfs'

which is a shell script that converts the xsf files from Wannier90 into the input file ('214-9deg-wf.idl') for the continuum transformation in calcQPI.

It should be noted that the tight-binding model has the Fermi energy not at zero, but at the value specified in the OUTCAR file from VASP.